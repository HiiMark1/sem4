<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body style="margin: 105px">
<form action="/new_post" method="post" th:action="@{new_post}" th:object="${post}">
    Название поста:
    <input name="name" type="text" maxlength="30" th:field="*{name}"/>
    <br>
    <script type="text/javascript">
        function countChar() {
            var count_char = document.getElementById("count_char");
            var count_char_textarea = document.getElementById("count_char_textarea");
            var q = document.getElementById("q");
            count_char.value = count_char_textarea.value.length;
            q.innerHTML = 1000 - parseInt(count_char.value = count_char_textarea.value.length);
        }
    </script>
    <div id="count_char_block">
            <textarea name="text" id="count_char_textarea" style="width: 600px;height: 300px;"
                      onchange="countChar()" onkeyup="countChar()" maxlength="500" th:field="*{text}"></textarea><br/>
        <input name="symbols" type="text" id="count_char" value="0" readonly="readonly" />
        <div>Символов осталось: <span  id="q">0</span></div>
    </div>
    <br>
    <input type="submit" value="Создать новый пост">
</form>
</body>
</html>